<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
>
<head lang="en">
    <meta charset="UTF-8"/>
    <title>Registration</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/common.css" rel="stylesheet"/>

</head>
<body id="createUserApp">

<div class="container" ng-controller="BaseFormCtrl">
    <my-error-messages></my-error-messages>
    <form name="form" ng-submit="createUser()" ng-controller="NewUserCtrl" class="form-signin">
        <h2 class="form-signin-heading">Create your account</h2>

        <div class="form-group">
            <input type="text"
                   ng-focus="focus('username')"
                   ng-blur="blur('username')"
                   ng-model="vm.username"
                   name="username"
                   class="form-control"
                   placeholder="Username"
                   ng-minlength="6"/>
            <div class="error-messages" ng-show="isMessagesVisible('username')"
                 ng-messages="form.username.$error">
                <div ng-message="required">The username is mandatory</div>
                <div ng-message="minlength">must have minimum 6 characters</div>
            </div>
        </div>

        <div class="form-group">
            <input type="password"
                   ng-focus="focus('password')"
                   ng-blur="blur('password')"
                   ng-model="vm.password"
                   name="password"
                   class="form-control"
                   placeholder="Password"
                   ng-minlength="6"
                   pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}"/>

            <div class="error-messages" ng-show="isMessagesVisible('password')"
                 ng-messages="form.password.$error">
                <div ng-message="required">The password is mandatory</div>
                <div ng-message="minlength">must have minimum 6 characters</div>
                <div ng-message="pattern">At least one number and uppercase</div>
            </div>
        </div>

        <div class="form-group">
            <input type="password"
                   ng-focus="focus('confirmPassword')"
                   ng-blur="blur('confirmPassword')"
                   ng-model="vm.confirmPassword"
                   name="confirmPassword"
                   class="form-control"
                   placeholder="Confirm your password"
                   ng-minlength="6"
                   pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}"/>
                   <!--check-passwords-match/>-->

            <div class="error-messages" ng-show="isMessagesVisible('confirmPassword')"
                 ng-messages="form.confirmPassword.$error" >
                <div ng-message="required">The password is mandatory</div>
                <div ng-message="minlength">must have minimum 6 characters</div>
                <div ng-message="pattern">At least one number and uppercase</div>
                <div ng-message="checkPasswordsMatch">Passwords must match</div>
            </div>
        </div>

        <button class="btn btn-lg btn-primary btn-block"
                type="submit">Submit</button>
    </form>

</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript" data-main="js/run-create-user-app"
        src="bower_components/requirejs/require.js"></script>
</body>
</html>